<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Creation Consumption Paradox</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load D3.js --><script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        /* Use Inter font */
        body {
            font-family: "Inter", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Custom slider styles for dark mode */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #4a5568; /* gray-700 */
            border-radius: 9999px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }

        input[type="range"]:hover {
            opacity: 1;
        }

        /* Slider thumb */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #34d399; /* emerald-400 */
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #34d399; /* emerald-400 */
            border-radius: 50%;
            cursor: pointer;
        }

        /* Style for D3 chart axes */
        .axis path,
        .axis line {
            stroke: #718096; /* gray-500 */
        }

        .axis text {
            fill: #a0aec0; /* gray-400 */
            font-size: 12px;
        }

        .grid-line {
            stroke: #4a5568; /* gray-700 */
            stroke-dasharray: 2,2;
            opacity: 0.5;
        }

        /* Tooltip-like style for the current value */
        #current-value-text {
            font-size: 14px;
            font-weight: 600;
            text-anchor: middle;
            fill: white;
            paint-order: stroke;
            stroke: black;
            stroke-width: 3px;
            stroke-linecap: butt;
            stroke-linejoin: miter;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 min-h-screen flex items-center justify-center p-4 md:p-8">

    <div class="w-full max-w-5xl mx-auto">
        
        <!-- Header --><div class="text-center mb-6">
            <h1 class="text-4xl md:text-5xl font-bold">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-red-500">
                    THE CREATION CONSUMPTION PARADOX
                </span>
            </h1>
            <p class="text-lg md:text-xl text-gray-400 mt-2">
                As the ratio inverts, review time explodes exponentially.
            </p>
            <p class="text-md md:text-lg text-yellow-400 mt-2 font-semibold">
                Key Insight: As AI shrinks creation time, the <span class="underline">human cost of verification</span> becomes the new bottleneck.
            </p>
        </div>

        <!-- Chart Container --><div id="chart-container" class="w-full bg-black rounded-lg shadow-2xl p-4 sm:p-6 md:p-8 border border-gray-700">
            <div id="chart"></div>
        </div>

        <!-- Controls Container --><div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 mt-8">
            
            <!-- Sliders --><div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">
                <h3 class="text-xl font-bold mb-6 text-center text-white">Define the Task</h3>
                
                <!-- Consumption Time Slider --><div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <label for="consumption-slider" class="font-semibold text-lg">Consumption Time</label>
                        <span id="consumption-value" class="text-lg font-bold text-blue-300 w-24 text-right">60 min</span>
                    </div>
                    <p class="text-sm text-gray-400 mb-3">The "flat" time it takes to consume the final product.</p>
                    <input type="range" id="consumption-slider" min="10" max="180" value="60" step="1">
                </div>
                
                <!-- Creation Time Slider --><div>
                    <div class="flex justify-between items-center mb-2">
                        <label for="creation-slider" class="font-semibold text-lg">Creation Time</label>
                        <span id="creation-value" class="text-lg font-bold text-green-300 w-24 text-right">120 min</span>
                    </div>
                    <p class="text-sm text-gray-400 mb-3">The "variable" time it takes to create the product (AI shrinks this).</p>
                    <input type="range" id="creation-slider" min="1" max="300" value="120" step="1">
                </div>
            </div>

            <!-- Outputs & Toggles --><div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700">
                <h3 class="text-xl font-bold mb-6 text-center text-white">See the Paradox</h3>
                
                <!-- Calculated Ratio --><div class="text-center mb-6">
                    <p class="text-lg text-gray-400">Creation : Consumption Ratio</p>
                    <p id="ratio-value" class="text-4xl font-bold text-white my-2">2.00</p>
                    <p id="ratio-zone" class="text-xl font-semibold" style="color: #2ecc71;">TRADITIONAL</p>
                </div>

                <!-- Toggles --><div class="flex gap-4 justify-center">
                    <button id="toggle-bands" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                        Hide Bands
                    </button>
                    <button id="toggle-labels" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                        Hide Labels
                    </button>
                </div>
            </div>

        </div>

        <!-- Legend (from user image) --><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
            <div class="border-2 border-green-500 bg-green-500 bg-opacity-10 rounded-lg p-4">
                <h4 class="text-green-400 font-bold text-lg">TRADITIONAL</h4>
                <p class="text-gray-300 text-sm">Ratio > 1:1 • Review time minimal • Quality intact</p>
            </div>
            <div class="border-2 border-yellow-500 bg-yellow-500 bg-opacity-10 rounded-lg p-4">
                <h4 class="text-yellow-400 font-bold text-lg">CAUTION ZONE</h4>
                <p class="text-gray-300 text-sm">0.3-1.0 • Curation mode • Pitfalls if not careful</p>
            </div>
            <div class="border-2 border-red-500 bg-red-500 bg-opacity-10 rounded-lg p-4">
                <h4 class="text-red-400 font-bold text-lg">WORKSLOP</h4>
                <p class="text-gray-300 text-sm">0.1-0.3 • 4-8 hours review • Quality breaks</p>
            </div>
            <div class="border-2 border-red-700 bg-red-700 bg-opacity-10 rounded-lg p-4">
                <h4 class="text-red-600 font-bold text-lg">ABSURDITY</h4>
                <p class="text-gray-300 text-sm">&lt;0.1 • 15-45 hours • Impossible to review</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // === 1. CHART SETUP ===
            const margin = { top: 40, right: 30, bottom: 50, left: 60 };
            let width, height;

            const svg = d3.select("#chart")
                .append("svg")
                .attr("width", "100%")
                .attr("height", "100%")
                .style("min-height", "500px")
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            // Scales
            const xScale = d3.scalePow().exponent(0.3).domain([20, 0]); // Inverted X-axis, now with power scale
            const yScale = d3.scaleLinear().domain([0, 2800]);

            // Axes
            const xTickValues = [20, 15, 10, 5, 2, 1, 0.5, 0.3, 0.1, 0];
            const xAxis = d3.axisBottom(xScale).tickValues(xTickValues).tickFormat(d3.format(".1f"));
            const yAxis = d3.axisLeft(yScale).tickValues([0, 700, 1400, 2100, 2800]);

            const xAxisGroup = svg.append("g")
                .attr("class", "axis x-axis");

            const yAxisGroup = svg.append("g")
                .attr("class", "axis y-axis");

            // Axis Labels
            const xAxisLabel = svg.append("text")
                .attr("class", "axis-label")
                .attr("text-anchor", "middle")
                .attr("font-size", "14px")
                .attr("fill", "#a0aec0")
                .text("Creation : Consumption Ratio (← AI accelerates creation)");

            const yAxisLabel = svg.append("text")
                .attr("class", "axis-label")
                .attr("transform", "rotate(-90)")
                .attr("dy", "1em")
                .attr("text-anchor", "middle")
                .attr("font-size", "14px")
                .attr("fill", "#a0aec0")
                .style("dominant-baseline", "ideographic")
                .text("Review Time (minutes)");


            // === 2. CHART ELEMENTS ===

            // Background paradox zones (green/red)
            const greenZone = svg.append("rect")
                .attr("class", "paradox-zone")
                .attr("y", 0)
                .attr("fill", "rgba(46, 204, 113, 0.05)"); // Subtle green

            const redZone = svg.append("rect")
                .attr("class", "paradox-zone")
                .attr("y", 0)
                .attr("fill", "rgba(231, 76, 60, 0.08)"); // Subtle red


            // Background Bands (now above the paradox zones)
            const bandsGroup = svg.append("g").attr("id", "bands");
            const bandColors = {
                traditional: "rgba(46, 204, 113, 0.15)", // green
                vibe: "rgba(241, 196, 15, 0.15)",     // yellow
                workslop: "rgba(231, 76, 60, 0.2)",      // red
                absurdity: "rgba(192, 57, 43, 0.3)"      // dark red
            };

            const traditionalBand = bandsGroup.append("rect")
                .attr("y", 0)
                .attr("fill", bandColors.traditional);
                
            const vibeBand = bandsGroup.append("rect")
                .attr("y", 0)
                .attr("fill", bandColors.vibe);

            const workslopBand = bandsGroup.append("rect")
                .attr("y", 0)
                .attr("fill", bandColors.workslop);

            const absurdityBand = bandsGroup.append("rect")
                .attr("y", 0)
                .attr("fill", bandColors.absurdity);

            // Text Labels
            const labelsGroup = svg.append("g").attr("id", "labels");
            
            labelsGroup.append("text").text("TRADITIONAL")
                .attr("fill", "#2ecc71").attr("font-size", "16px").attr("font-weight", "bold");
            labelsGroup.append("text").text("CAUTION ZONE")
                .attr("fill", "#f1c40f").attr("font-size", "16px").attr("font-weight", "bold");
            labelsGroup.append("text").text("WORKSLOP")
                .attr("fill", "#e74c3c").attr("font-size", "16px").attr("font-weight", "bold");
            labelsGroup.append("text").text("ABSURDITY")
                .attr("fill", "#c0392b").attr("font-size", "16px").attr("font-weight", "bold");
            
            // Inversion Line
            svg.append("line")
                .attr("id", "inversion-line")
                .attr("y1", 0)
                .attr("stroke", "#f1c40f") // yellow
                .attr("stroke-width", 2)
                .attr("stroke-dasharray", "4,4");
            
            svg.append("text")
                .attr("id", "inversion-label")
                .attr("fill", "#f1c40f")
                .attr("font-size", "12px")
                .attr("font-weight", "bold")
                .attr("text-anchor", "middle")
                .text("▲ INVERSION (1:1)");

            // The exponential curve
            const k = 100; 
            const reviewTimeFn = (ratio) => {
                if (ratio <= 0) return yScale.domain()[1]; 
                return Math.min(yScale.domain()[1], k / ratio);
            };
            
            const lineDataPt1 = d3.range(0.01, 1, 0.005).map(r => ({
                ratio: r,
                reviewTime: reviewTimeFn(r)
            }));
            const lineDataPt2 = d3.range(1, 20.1, 0.1).map(r => ({
                ratio: r,
                reviewTime: reviewTimeFn(r)
            }));
            const lineData = lineDataPt1.concat(lineDataPt2);
            
            const lineGenerator = d3.line()
                .x(d => xScale(d.ratio))
                .y(d => yScale(d.reviewTime))
                .curve(d3.curveMonotoneX);

            const curvePath = svg.append("path")
                .datum(lineData)
                .attr("fill", "none")
                .attr("stroke", "#34d399")
                .attr("stroke-width", 4)
                .attr("stroke-linecap", "round");

            // Current value dot
            const currentDot = svg.append("circle")
                .attr("r", 8)
                .attr("fill", "white")
                .attr("stroke", "#34d399")
                .attr("stroke-width", 3);
            
            const currentValueText = svg.append("text")
                .attr("id", "current-value-text");
            
            // Define the flashing animation
            function flashDot() {
                currentDot.transition().duration(300)
                    .attr("fill", "#c0392b") // dark red
                    .attr("stroke", "#e74c3c") // red
                    .attr("r", 10)
                    .transition().duration(300)
                    .attr("fill", "white")
                    .attr("stroke", "#34d399") // back to green
                    .attr("r", 8)
                    .on("end", flashDot); // Loop the flash
            }
            
            // Stopper for the flash
            let isFlashing = false;

            // TikTok Handle
            svg.append("text")
                .attr("id", "tiktok-handle")
                .attr("fill", "#a0aec0")
                .attr("font-size", "14px")
                .attr("text-anchor", "end")
                .attr("font-weight", "bold")
                .text("@thefutureconcern");

            // === 3. INTERACTIVITY & DRAWING ===
            const consumptionSlider = document.getElementById("consumption-slider");
            const creationSlider = document.getElementById("creation-slider");
            const consumptionValue = document.getElementById("consumption-value");
            const creationValue = document.getElementById("creation-value");
            const ratioValue = document.getElementById("ratio-value");
            const ratioZone = document.getElementById("ratio-zone");

            const zoneInfo = {
                traditional: { name: "TRADITIONAL", color: "#2ecc71" }, // green
                vibe: { name: "CAUTION ZONE", color: "#f1c40f" },     // yellow
                workslop: { name: "WORKSLOP", color: "#e74c3c" },      // red
                absurdity: { name: "ABSURDITY", color: "#c0392b" }       // dark red
            };

            function updateChart() {
                // Get values
                const consTime = +consumptionSlider.value;
                const creatTime = +creationSlider.value;
                const ratio = creatTime / consTime;
                const reviewTime = reviewTimeFn(ratio);

                // Update labels
                consumptionValue.textContent = `${consTime} min`;
                creationValue.textContent = `${creatTime} min`;
                ratioValue.textContent = ratio.toFixed(2);

                let currentZone;
                if (ratio < 0.1) {
                    currentZone = zoneInfo.absurdity;
                    if (!isFlashing) {
                        isFlashing = true;
                        flashDot(); // Start flashing
                    }
                } else {
                    if (isFlashing) {
                        currentDot.transition().duration(1) // Stop flashing
                            .attr("fill", "white")
                            .attr("stroke", "#34d399")
                            .attr("r", 8);
                        isFlashing = false;
                    }
                    if (ratio < 0.3) currentZone = zoneInfo.workslop;
                    else if (ratio < 1.0) currentZone = zoneInfo.vibe;
                    else currentZone = zoneInfo.traditional;
                }
                
                ratioZone.textContent = currentZone.name;
                ratioZone.style.color = currentZone.color;

                // Update Dot
                currentDot
                    .transition().duration(100)
                    .attr("cx", xScale(ratio))
                    .attr("cy", yScale(reviewTime));
                
                // Update Dot text
                currentValueText
                    .attr("x", xScale(ratio))
                    .attr("y", yScale(reviewTime) - 15) // 15px above the dot
                    .text(`Ratio: ${ratio.toFixed(2)}`);
            }

            // === 4. RESIZE & INITIAL DRAW ===
            function resize() {
                // Get container size
                const container = document.getElementById("chart-container");
                width = container.clientWidth - margin.left - margin.right;
                height = 500 - margin.top - margin.bottom; // Fixed height for simplicity

                // Update SVG size
                d3.select(svg.node().parentNode)
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom);

                // Update scales
                xScale.range([0, width]);
                yScale.range([height, 0]);

                // Update axes
                xAxisGroup.attr("transform", `translate(0,${height})`).call(xAxis);
                yAxisGroup.call(yAxis);

                // Update axis labels
                xAxisLabel
                    .attr("x", width / 2)
                    .attr("y", height + margin.bottom - 10);
                
                yAxisLabel
                    .attr("x", -(height / 2))
                    .attr("y", -margin.left + 15);

                // Update paradox zones
                greenZone
                    .attr("x", xScale(20))
                    .attr("height", height)
                    .attr("width", xScale(1.0) - xScale(20));

                redZone
                    .attr("x", xScale(1.0))
                    .attr("height", height)
                    .attr("width", xScale(0) - xScale(1.0));


                // Update bands
                traditionalBand
                    .attr("x", xScale(20))
                    .attr("height", height)
                    .attr("width", xScale(1.0) - xScale(20));
                
                vibeBand
                    .attr("x", xScale(1.0))
                    .attr("height", height)
                    .attr("width", xScale(0.3) - xScale(1.0));
                
                workslopBand
                    .attr("x", xScale(0.3))
                    .attr("height", height)
                    .attr("width", xScale(0.1) - xScale(0.3));

                absurdityBand
                    .attr("x", xScale(0.1))
                    .attr("height", height)
                    .attr("width", xScale(0) - xScale(0.1));
                
                // Update text labels
                labelsGroup.select("text:nth-child(1)") // TRADITIONAL
                    .attr("x", xScale(5)).attr("y", height - 50).attr("text-anchor", "middle");
                labelsGroup.select("text:nth-child(2)") // CAUTION ZONE
                    .attr("x", xScale(0.65)).attr("y", height * 0.5).attr("text-anchor", "middle");
                labelsGroup.select("text:nth-child(3)") // WORKSLOP
                    .attr("x", xScale(0.2)).attr("y", height * 0.3).attr("text-anchor", "middle");
                labelsGroup.select("text:nth-child(4)") // ABSURDITY
                    .attr("x", xScale(0.05)).attr("y", height * 0.1).attr("text-anchor", "middle")
                    .attr("transform", `rotate(-15, ${xScale(0.05)}, ${height * 0.1})`);
                
                // Update inversion line
                d3.select("#inversion-line")
                    .attr("x1", xScale(1.0))
                    .attr("x2", xScale(1.0))
                    .attr("y2", height);

                d3.select("#inversion-label")
                    .attr("x", xScale(1.0))
                    .attr("y", -10);

                // Update curve path
                curvePath.attr("d", lineGenerator);

                // Update TikTok handle position
                d3.select("#tiktok-handle")
                    .attr("x", width)
                    .attr("y", height - 5); // Bottom right corner

                // Full update
                updateChart();
            }

            // Event Listeners
            consumptionSlider.addEventListener("input", updateChart);
            creationSlider.addEventListener("input", updateChart);

            document.getElementById("toggle-bands").addEventListener("click", function() {
                const visible = bandsGroup.style("visibility") !== "hidden";
                bandsGroup.style("visibility", visible ? "hidden" : "visible");
                this.textContent = visible ? "Show Bands" : "Hide Bands";
            });

            document.getElementById("toggle-labels").addEventListener("click", function() {
                const visible = labelsGroup.style("visibility") !== "hidden";
                labelsGroup.style("visibility", visible ? "hidden" : "visible");
                this.textContent = visible ? "Show Labels" : "Hide Labels";
            });
            
            // Initial draw
            resize();

            // Redraw on window resize
            window.addEventListener("resize", resize);
        });
    </script>
</body>
</html>




